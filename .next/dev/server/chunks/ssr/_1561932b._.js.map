{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/tengo/Downloads/MenuQR%202/lib/uploadthing.ts"],"sourcesContent":["import {\n  generateUploadButton,\n  generateUploadDropzone,\n} from \"@uploadthing/react\";\nimport type { UploadRouter } from \"@/app/api/uploadthing/core\";\n\nexport const UploadButton = generateUploadButton<UploadRouter>();\nexport const UploadDropzone = generateUploadDropzone<UploadRouter>();\n\nexport function getUploadThingKey(url?: string | null) {\n  if (!url) return null;\n  return url.split(\"/f/\")[1] ?? null;\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAMO,MAAM,eAAe,IAAA,+LAAoB;AACzC,MAAM,iBAAiB,IAAA,iMAAsB;AAE7C,SAAS,kBAAkB,GAAmB;IACnD,IAAI,CAAC,KAAK,OAAO;IACjB,OAAO,IAAI,KAAK,CAAC,MAAM,CAAC,EAAE,IAAI;AAChC"}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///Users/tengo/Downloads/MenuQR%202/components/shared/LogoUpload.tsx"],"sourcesContent":["\"use client\";\n\nimport Image from \"next/image\";\nimport { UploadDropzone } from \"@/lib/uploadthing\";\nimport { useTranslations } from \"next-intl\";\nimport { useState } from \"react\";\nimport { AlertTriangle } from \"lucide-react\";\n\ninterface LogoUploadProps {\n  value?: string | null;\n  onChange: (url: string | null) => void;\n}\n\nexport default function LogoUpload({ value, onChange }: LogoUploadProps) {\n  const t = useTranslations(\"logo\");\n  const [error, setError] = useState<string | null>(null);\n\n  return (\n    <div className=\"space-y-3\">\n      {error && (\n        <div className=\"flex items-start gap-2 rounded-xl border border-red-500/30 bg-red-500/10 px-3 py-2 text-sm text-red-400\">\n          <AlertTriangle className=\"w-4 h-4 mt-0.5\" />\n          <span>{error}</span>\n        </div>\n      )}\n\n      <label className=\"block text-sm font-medium text-white\">\n        {t(\"label\")} <span className=\"text-white/40\">({t(\"optional\")})</span>\n      </label>\n\n      {value ? (\n        <div className=\"relative w-32 h-32 mx-auto rounded-2xl border border-white/10 bg-white/5 overflow-hidden\">\n          <Image\n            src={value}\n            alt={t(\"alt\")}\n            fill\n            className=\"object-contain p-3\"\n          />\n\n          <button\n            type=\"button\"\n            onClick={() => {\n              onChange(null);\n              setError(null);\n            }}\n            className=\"absolute top-2 right-2 rounded-full p-1.5 bg-gray-950/80 text-white/60 hover:text-white transition\"\n            title={t(\"remove\")}\n          >\n            ✕\n          </button>\n        </div>\n      ) : (\n        <UploadDropzone\n          endpoint=\"logoUploader\"\n          onClientUploadComplete={(res) => {\n            const url = res?.[0]?.ufsUrl;\n            if (url) {\n              onChange(url);\n              setError(null);\n            }\n          }}\n          onUploadError={(err) => {\n            if (err.message.includes(\"File size\")) {\n              setError(t(\"tooLarge\"));\n            } else {\n              setError(t(\"error\"));\n            }\n          }}\n          appearance={{\n            container:\n              \"border border-white/20 rounded-xl bg-transparent hover:border-white/40 transition\",\n            label: \"text-white/80 text-sm\",\n            uploadIcon: \"text-white/60\",\n            button: \"bg-transparent text-white/80 text-sm font-medium\",\n          }}\n        />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAae,SAAS,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAmB;IACrE,MAAM,IAAI,IAAA,yMAAe,EAAC;IAC1B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,qBACE,8OAAC;QAAI,WAAU;;YACZ,uBACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,yOAAa;wBAAC,WAAU;;;;;;kCACzB,8OAAC;kCAAM;;;;;;;;;;;;0BAIX,8OAAC;gBAAM,WAAU;;oBACd,EAAE;oBAAS;kCAAC,8OAAC;wBAAK,WAAU;;4BAAgB;4BAAE,EAAE;4BAAY;;;;;;;;;;;;;YAG9D,sBACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,wIAAK;wBACJ,KAAK;wBACL,KAAK,EAAE;wBACP,IAAI;wBACJ,WAAU;;;;;;kCAGZ,8OAAC;wBACC,MAAK;wBACL,SAAS;4BACP,SAAS;4BACT,SAAS;wBACX;wBACA,WAAU;wBACV,OAAO,EAAE;kCACV;;;;;;;;;;;qCAKH,8OAAC,oIAAc;gBACb,UAAS;gBACT,wBAAwB,CAAC;oBACvB,MAAM,MAAM,KAAK,CAAC,EAAE,EAAE;oBACtB,IAAI,KAAK;wBACP,SAAS;wBACT,SAAS;oBACX;gBACF;gBACA,eAAe,CAAC;oBACd,IAAI,IAAI,OAAO,CAAC,QAAQ,CAAC,cAAc;wBACrC,SAAS,EAAE;oBACb,OAAO;wBACL,SAAS,EAAE;oBACb;gBACF;gBACA,YAAY;oBACV,WACE;oBACF,OAAO;oBACP,YAAY;oBACZ,QAAQ;gBACV;;;;;;;;;;;;AAKV"}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///Users/tengo/Downloads/MenuQR%202/app/%5Blocale%5D/dashboard/create-menu/ThemePicker.tsx"],"sourcesContent":["\"use client\";\n\nimport { useTranslations } from \"next-intl\";\n\nconst THEMES = [\n  {\n    id: \"light\",\n    preview:\n      \"https://s6vobsvxdq.ufs.sh/f/6yJieLdgU3ZSP47gwCZiN4bS5PWTB0Yj3VQglMfA87tos1da\",\n    demoUrl: \"https://example.com/themes/light\",\n  },\n  {\n    id: \"minimal\",\n    preview:\n      \"https://s6vobsvxdq.ufs.sh/f/6yJieLdgU3ZSipogjuQ3RfKv5QoznhOCXLdMx2NWVbqjg1Gk\",\n    demoUrl: \"https://example.com/themes/minimal\",\n  },\n  {\n    id: \"dark\",\n    preview:\n      \"https://s6vobsvxdq.ufs.sh/f/6yJieLdgU3ZS48Y0C950X1EPpmzvlHta7uIqnDsjQRZd9YVr\",\n    demoUrl: \"https://example.com/themes/dark\",\n  },\n  {\n    id: \"elegant\",\n    preview:\n      \"https://s6vobsvxdq.ufs.sh/f/6yJieLdgU3ZSVVuodUvijCkfnovGqWY3R0JbDcwAzFKytrxh\",\n    demoUrl: \"https://example.com/themes/elegant\",\n  },\n];\n\ntype Props = {\n  value: string;\n  onChange: (theme: string) => void;\n  disabled?: boolean;\n};\n\nexport default function ThemePicker({\n  value,\n  onChange,\n  disabled = false,\n}: Props) {\n  const t = useTranslations(\"theme\");\n\n  return (\n    <div\n      className={`space-y-4 ${disabled ? \"opacity-50 pointer-events-none\" : \"\"\n        }`}\n    >\n      <label className=\"text-sm font-medium text-white\">\n        {t(\"label\")}\n      </label>\n\n      <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-4\">\n        {THEMES.map((theme) => {\n          const active = value === theme.id;\n\n          return (\n            <button\n              key={theme.id}\n              type=\"button\"\n              onClick={() => onChange(theme.id)}\n              className={`\n                group rounded-2xl overflow-hidden text-left\n                border transition-all\n                ${active\n                  ? \"border-white/50 bg-white/10\"\n                  : \"border-white/10 bg-white/5 hover:border-white/30\"\n                }\n              `}\n            >\n              <div className=\"aspect-[3/4] bg-gray-950/60\">\n                <img\n                  src={theme.preview}\n                  alt={t(theme.id)}\n                  className=\"w-full h-full object-cover transition-transform duration-300 group-hover:scale-[1.03]\"\n                />\n              </div>\n\n              <div className=\"p-3\">\n                <p\n                  className={`text-sm font-medium ${active ? \"text-white\" : \"text-white/70\"\n                    }`}\n                >\n                  {t(theme.id)}\n                </p>\n\n                <div className=\"mt-2 flex items-center justify-between\">\n                  {active && (\n                    <p className=\"text-xs text-white/50\">\n                      {t(\"selected\")}\n                    </p>\n                  )}\n\n                  <a\n                    href={theme.demoUrl}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    onClick={(e) => e.stopPropagation()}\n                    className=\"\n  text-[11px] font-medium\n  px-2 py-1 rounded-full\n  bg-white/5 text-white/70\n  hover:bg-white/10 hover:text-white\n  transition-colors\n\"                  >\n                    {t(\"liveDemo\")}\n                  </a>\n                </div>\n              </div>\n            </button>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIA,MAAM,SAAS;IACb;QACE,IAAI;QACJ,SACE;QACF,SAAS;IACX;IACA;QACE,IAAI;QACJ,SACE;QACF,SAAS;IACX;IACA;QACE,IAAI;QACJ,SACE;QACF,SAAS;IACX;IACA;QACE,IAAI;QACJ,SACE;QACF,SAAS;IACX;CACD;AAQc,SAAS,YAAY,EAClC,KAAK,EACL,QAAQ,EACR,WAAW,KAAK,EACV;IACN,MAAM,IAAI,IAAA,yMAAe,EAAC;IAE1B,qBACE,8OAAC;QACC,WAAW,CAAC,UAAU,EAAE,WAAW,mCAAmC,IAClE;;0BAEJ,8OAAC;gBAAM,WAAU;0BACd,EAAE;;;;;;0BAGL,8OAAC;gBAAI,WAAU;0BACZ,OAAO,GAAG,CAAC,CAAC;oBACX,MAAM,SAAS,UAAU,MAAM,EAAE;oBAEjC,qBACE,8OAAC;wBAEC,MAAK;wBACL,SAAS,IAAM,SAAS,MAAM,EAAE;wBAChC,WAAW,CAAC;;;gBAGV,EAAE,SACE,gCACA,mDACH;cACH,CAAC;;0CAED,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCACC,KAAK,MAAM,OAAO;oCAClB,KAAK,EAAE,MAAM,EAAE;oCACf,WAAU;;;;;;;;;;;0CAId,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,WAAW,CAAC,oBAAoB,EAAE,SAAS,eAAe,iBACtD;kDAEH,EAAE,MAAM,EAAE;;;;;;kDAGb,8OAAC;wCAAI,WAAU;;4CACZ,wBACC,8OAAC;gDAAE,WAAU;0DACV,EAAE;;;;;;0DAIP,8OAAC;gDACC,MAAM,MAAM,OAAO;gDACnB,QAAO;gDACP,KAAI;gDACJ,SAAS,CAAC,IAAM,EAAE,eAAe;gDACjC,WAAU;0DAOT,EAAE;;;;;;;;;;;;;;;;;;;uBA/CJ,MAAM,EAAE;;;;;gBAqDnB;;;;;;;;;;;;AAIR"}},
    {"offset": {"line": 305, "column": 0}, "map": {"version":3,"sources":["file:///Users/tengo/Downloads/MenuQR%202/app/%5Blocale%5D/dashboard/create-menu/CreateMenuPage.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { useTranslations, useLocale } from \"next-intl\";\n\nimport LogoUpload from \"@/components/shared/LogoUpload\";\nimport ThemePicker from \"./ThemePicker\";\n\nexport default function CreateMenuPage() {\n  const t = useTranslations(\"createMenu\");\n  const locale = useLocale();\n  const router = useRouter();\n\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [theme, setTheme] = useState(\"light\");\n  const [logoUrl, setLogoUrl] = useState<string | null>(null);\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [limitReached, setLimitReached] = useState(false);\n  const [checkingLimit, setCheckingLimit] = useState(true);\n\n  // Verify free-tier menu limit before showing the form\n  useEffect(() => {\n    async function checkLimit() {\n      try {\n        const res = await fetch(\"/api/menus/count\");\n        const data = await res.json();\n\n        if (data.limitReached) {\n          setLimitReached(true);\n          setError(t(\"limitReached\"));\n        }\n      } catch {\n        setError(t(\"error\"));\n      } finally {\n        setCheckingLimit(false);\n      }\n    }\n\n    checkLimit();\n  }, [t]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (limitReached) return;\n\n    setError(\"\");\n    setLoading(true);\n\n    try {\n      const res = await fetch(\"/api/menus\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          title,\n          description,\n          theme,\n          logoUrl,\n        }),\n      });\n\n      if (res.ok) {\n        const menu = await res.json();\n        router.push(`/${locale}/dashboard/menu/${menu.id}`);\n      } else {\n        const data = await res.json();\n        setError(data.error || t(\"error\"));\n      }\n    } catch {\n      setError(t(\"error\"));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (checkingLimit) {\n    return (\n      <div className=\"max-w-3xl mx-auto px-6 py-24 text-center text-white/60\">\n        {t(\"checking\")}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-3xl mx-auto px-6 py-12\">\n      <Link\n        href={`/${locale}/dashboard`}\n        className=\"inline-flex items-center gap-2 mb-8 text-sm text-white/60 hover:text-white transition\"\n      >\n        ← {t(\"back\")}\n      </Link>\n\n      <h1 className=\"text-3xl font-semibold tracking-tight mb-12\">\n        {t(\"title\")}\n      </h1>\n\n      <form\n        onSubmit={handleSubmit}\n        className=\"rounded-3xl border border-white/10 bg-white/5 p-8 space-y-12 backdrop-blur\"\n      >\n        {error && (\n          <div className=\"rounded-xl border border-red-500/30 bg-red-500/10 text-red-400 px-4 py-3\">\n            {error}\n          </div>\n        )}\n\n        <div className=\"space-y-6\">\n          <div>\n            <label className=\"block text-sm text-white/70 mb-1\">\n              {t(\"menuTitle\")} *\n            </label>\n            <input\n              required\n              disabled={limitReached}\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              placeholder={t(\"menuTitlePlaceholder\")}\n              className=\"\n                w-full rounded-xl\n                bg-gray-950/60\n                border border-white/10\n                px-4 py-2\n                text-white\n                focus:border-white/40\n                focus:outline-none\n                disabled:opacity-50\n              \"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm text-white/70 mb-1\">\n              {t(\"description\")}\n            </label>\n            <textarea\n              rows={3}\n              disabled={limitReached}\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              placeholder={t(\"descriptionPlaceholder\")}\n              className=\"\n                w-full rounded-xl\n                bg-gray-950/60\n                border border-white/10\n                px-4 py-2\n                text-white\n                focus:border-white/40\n                focus:outline-none\n                resize-none\n                disabled:opacity-50\n              \"\n            />\n          </div>\n        </div>\n\n        <LogoUpload value={logoUrl} onChange={setLogoUrl} />\n\n        <ThemePicker\n          value={theme}\n          onChange={setTheme}\n          disabled={limitReached}\n        />\n\n        <div className=\"flex items-center gap-4 pt-4\">\n          <button\n            type=\"submit\"\n            disabled={loading || limitReached}\n            className=\"\n              rounded-xl\n              bg-white\n              text-gray-950\n              text-sm font-medium\n              px-6 py-2.5\n              hover:opacity-90\n              transition\n              disabled:opacity-50\n              disabled:cursor-not-allowed\n            \"\n          >\n            {loading ? t(\"creating\") : t(\"create\")}\n          </button>\n\n          <Link\n            href={`/${locale}/dashboard`}\n            className=\"\n              px-6 py-2.5\n              rounded-xl\n              text-sm\n              border border-white/20\n              text-white/70\n              hover:border-white/50\n              hover:text-white\n              transition\n            \"\n          >\n            {t(\"cancel\")}\n          </Link>\n        </div>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}