{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/carlo/MenuQR/app/dashboard/page.tsx"],"sourcesContent":["import { redirect } from \"next/navigation\";\nimport { getCurrentUser } from \"@/lib/auth\";\nimport { db } from \"@/lib/db\";\nimport Link from \"next/link\";\n\nexport default async function DashboardPage() {\n  const user = await getCurrentUser();\n  if (!user) redirect(\"/login\");\n\n  const menus = await db.menu.findMany({\n    where: { userId: user.id },\n    include: {\n      categories: { include: { items: true } },\n    },\n    orderBy: { createdAt: \"desc\" },\n  });\n\n  return (\n    <div>\n      {/* HEADER */}\n      <div className=\"flex items-center justify-between mb-10\">\n        <div>\n          <h1 className=\"text-3xl font-semibold tracking-tight\">\n            Your menus\n          </h1>\n          <p className=\"text-gray-500 text-sm mt-1\">\n            Manage your digital menus\n          </p>\n        </div>\n\n        <Link\n          href=\"/dashboard/create-menu\"\n          className=\"\n            px-5 py-2.5 rounded-lg\n            bg-black text-white text-sm font-medium\n            hover:bg-gray-800 transition-colors\n          \"\n        >\n          Create menu\n        </Link>\n      </div>\n\n      {/* EMPTY */}\n      {menus.length === 0 ? (\n        <div className=\"bg-white border border-dashed border-gray-300 rounded-xl py-20 text-center\">\n          <p className=\"text-gray-500 mb-6\">\n            You don’t have any menus yet\n          </p>\n          <Link\n            href=\"/dashboard/create-menu\"\n            className=\"text-sm underline hover:text-black\"\n          >\n            Create your first menu →\n          </Link>\n        </div>\n      ) : (\n        <div className=\"grid gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n          {menus.map((menu) => {\n            const itemsCount = menu.categories.reduce(\n              (acc, cat) => acc + cat.items.length,\n              0\n            );\n\n            return (\n              <Link\n                key={menu.id}\n                href={`/dashboard/menu/${menu.id}`}\n                className=\"\n                  group bg-white rounded-xl p-6\n                  border border-gray-200\n                  transition-all\n                  hover:border-gray-900\n                  hover:-translate-y-1\n                \"\n              >\n                {/* TITLE */}\n                <h2 className=\"text-lg font-medium mb-1 group-hover:text-black\">\n                  {menu.title}\n                </h2>\n\n                {menu.description && (\n                  <p className=\"text-sm text-gray-500 mb-4 line-clamp-2\">\n                    {menu.description}\n                  </p>\n                )}\n\n                {/* STATS */}\n                <div className=\"flex justify-between text-xs text-gray-500\">\n                  <span>{menu.categories.length} categories</span>\n                  <span>{itemsCount} items</span>\n                </div>\n              </Link>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;AACA;;;;;;AAEe,eAAe;IAC5B,MAAM,OAAO,MAAM,IAAA,6HAAc;IACjC,IAAI,CAAC,MAAM,IAAA,iMAAQ,EAAC;IAEpB,MAAM,QAAQ,MAAM,+GAAE,CAAC,IAAI,CAAC,QAAQ,CAAC;QACnC,OAAO;YAAE,QAAQ,KAAK,EAAE;QAAC;QACzB,SAAS;YACP,YAAY;gBAAE,SAAS;oBAAE,OAAO;gBAAK;YAAE;QACzC;QACA,SAAS;YAAE,WAAW;QAAO;IAC/B;IAEA,qBACE,8OAAC;;0BAEC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAwC;;;;;;0CAGtD,8OAAC;gCAAE,WAAU;0CAA6B;;;;;;;;;;;;kCAK5C,8OAAC,0LAAI;wBACH,MAAK;wBACL,WAAU;kCAKX;;;;;;;;;;;;YAMF,MAAM,MAAM,KAAK,kBAChB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAAqB;;;;;;kCAGlC,8OAAC,0LAAI;wBACH,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;qCAKH,8OAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC;oBACV,MAAM,aAAa,KAAK,UAAU,CAAC,MAAM,CACvC,CAAC,KAAK,MAAQ,MAAM,IAAI,KAAK,CAAC,MAAM,EACpC;oBAGF,qBACE,8OAAC,0LAAI;wBAEH,MAAM,CAAC,gBAAgB,EAAE,KAAK,EAAE,EAAE;wBAClC,WAAU;;0CASV,8OAAC;gCAAG,WAAU;0CACX,KAAK,KAAK;;;;;;4BAGZ,KAAK,WAAW,kBACf,8OAAC;gCAAE,WAAU;0CACV,KAAK,WAAW;;;;;;0CAKrB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;;4CAAM,KAAK,UAAU,CAAC,MAAM;4CAAC;;;;;;;kDAC9B,8OAAC;;4CAAM;4CAAW;;;;;;;;;;;;;;uBAxBf,KAAK,EAAE;;;;;gBA4BlB;;;;;;;;;;;;AAKV"}}]
}