{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/tengo/Downloads/MenuQR%202/app/%5Blocale%5D/%28auth%29/verify-email/page.tsx"],"sourcesContent":["\"use client\";\nexport const dynamic = \"force-dynamic\";\n\nimport { useState } from \"react\";\nimport { useSearchParams, useRouter } from \"next/navigation\";\nimport { useLocale, useTranslations } from \"next-intl\";\n\ntype VerifyEmailErrorKey =\n  | \"invalidCode\"\n  | \"codeExpired\"\n  | \"tooManyAttempts\"\n  | \"tooManyRequests\"\n  | \"resendCooldown\"\n  | \"alreadyVerified\"\n  | \"generic\";\n\n\nexport default function VerifyEmailPage() {\n  const searchParams = useSearchParams();\n  const router = useRouter();\n  const locale = useLocale();\n  const t = useTranslations(\"verifyEmail\");\n\n  const email = searchParams.get(\"email\") || \"\";\n\n  const [code, setCode] = useState(\"\");\n  const [error, setError] = useState<string>(\"\");\n  const [loading, setLoading] = useState(false);\n\n  async function submit() {\n    setLoading(true);\n    setError(\"\");\n\n    try {\n      const res = await fetch(\"/api/auth/verify-email\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email, code }),\n      });\n\n      const data: { error?: VerifyEmailErrorKey } = await res.json();\n\n      if (!res.ok) {\n        const errorKey = data?.error ?? \"generic\";\n        setError(t(`errors.${errorKey}`));\n        setLoading(false);\n        return;\n      }\n\n      router.push(`/${locale}/login`);\n    } catch {\n      setError(t(\"errors.generic\"));\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center\">\n      <div className=\"w-full max-w-sm space-y-4 rounded-2xl border border-white/10 bg-white/5 p-6\">\n        <h1 className=\"text-xl font-semibold text-white\">\n          {t(\"title\")}\n        </h1>\n\n        <p className=\"text-sm text-white/60\">\n          {t(\"subtitle\")} <b>{email}</b>\n        </p>\n\n        <input\n          className=\"w-full rounded-xl bg-gray-950/60 border border-white/10 px-4 py-2 text-white\"\n          placeholder={t(\"codePlaceholder\")}\n          value={code}\n          onChange={(e) => setCode(e.target.value)}\n        />\n\n        {error && (\n          <div className=\"text-sm text-red-400\">\n            {error}\n          </div>\n        )}\n\n        <button\n          onClick={submit}\n          disabled={loading}\n          className=\"w-full rounded-xl bg-white text-black py-2 disabled:opacity-50\"\n        >\n          {loading ? t(\"loading\") : t(\"submit\")}\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAGA;AACA;AACA;AAAA;;;AALA;AACO,MAAM,UAAU;;;;AAgBR,SAAS;;IACtB,MAAM,eAAe,IAAA,wJAAe;IACpC,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,SAAS,IAAA,kLAAS;IACxB,MAAM,IAAI,IAAA,4MAAe,EAAC;IAE1B,MAAM,QAAQ,aAAa,GAAG,CAAC,YAAY;IAE3C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAS;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,eAAe;QACb,WAAW;QACX,SAAS;QAET,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,0BAA0B;gBAChD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAO;gBAAK;YACrC;YAEA,MAAM,OAAwC,MAAM,IAAI,IAAI;YAE5D,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,MAAM,WAAW,MAAM,SAAS;gBAChC,SAAS,EAAE,CAAC,OAAO,EAAE,UAAU;gBAC/B,WAAW;gBACX;YACF;YAEA,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,MAAM,CAAC;QAChC,EAAE,OAAM;YACN,SAAS,EAAE;QACb,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BACX,EAAE;;;;;;8BAGL,6LAAC;oBAAE,WAAU;;wBACV,EAAE;wBAAY;sCAAC,6LAAC;sCAAG;;;;;;;;;;;;8BAGtB,6LAAC;oBACC,WAAU;oBACV,aAAa,EAAE;oBACf,OAAO;oBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;gBAGxC,uBACC,6LAAC;oBAAI,WAAU;8BACZ;;;;;;8BAIL,6LAAC;oBACC,SAAS;oBACT,UAAU;oBACV,WAAU;8BAET,UAAU,EAAE,aAAa,EAAE;;;;;;;;;;;;;;;;;AAKtC;GA1EwB;;QACD,wJAAe;QACrB,kJAAS;QACT,kLAAS;QACd,4MAAe;;;KAJH"}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":["file:///Users/tengo/Downloads/MenuQR%202/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}}]
}