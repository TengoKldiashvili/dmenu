{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/carlo/Documents/MenuQR/lib/uploadthing.ts"],"sourcesContent":["import {\n  generateUploadButton,\n  generateUploadDropzone,\n} from \"@uploadthing/react\";\nimport type { UploadRouter } from \"@/app/api/uploadthing/core\";\n\nexport const UploadButton = generateUploadButton<UploadRouter>();\nexport const UploadDropzone = generateUploadDropzone<UploadRouter>();\n\nexport function getUploadThingKey(url?: string | null) {\n  if (!url) return null;\n  return url.split(\"/f/\")[1] ?? null;\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAMO,MAAM,eAAe,IAAA,kMAAoB;AACzC,MAAM,iBAAiB,IAAA,oMAAsB;AAE7C,SAAS,kBAAkB,GAAmB;IACnD,IAAI,CAAC,KAAK,OAAO;IACjB,OAAO,IAAI,KAAK,CAAC,MAAM,CAAC,EAAE,IAAI;AAChC"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///Users/carlo/Documents/MenuQR/components/shared/ImageUpload.tsx"],"sourcesContent":["\"use client\";\n\nimport Image from \"next/image\";\nimport { UploadDropzone } from \"@/lib/uploadthing\";\nimport { useTranslations } from \"next-intl\";\nimport { useState } from \"react\";\nimport { AlertTriangle } from \"lucide-react\";\n\ninterface ImageUploadProps {\n  value?: string;\n  onChange: (url: string) => void;\n}\n\nexport default function ImageUpload({ value, onChange }: ImageUploadProps) {\n  const t = useTranslations(\"uploadimages\");\n  const [error, setError] = useState<string | null>(null);\n\n  return (\n    <div className=\"space-y-3\">\n      {error && (\n        <div className=\"flex items-start gap-2 rounded-xl border border-red-500/30 bg-red-500/10 px-3 py-2 text-sm text-red-400\">\n          <AlertTriangle className=\"w-4 h-4 mt-0.5\" />\n          <span>{error}</span>\n        </div>\n      )}\n\n      <label className=\"block text-sm font-medium text-white\">\n        {t(\"label\")}\n      </label>\n\n      {value ? (\n        <div className=\"relative w-32 h-32 mx-auto rounded-2xl border border-white/10 bg-white/5 overflow-hidden\">\n          <Image\n            src={value}\n            alt={t(\"previewAlt\")}\n            fill\n            className=\"object-cover\"\n          />\n\n          <button\n            type=\"button\"\n            onClick={() => {\n              onChange(\"\");\n              setError(null);\n            }}\n            className=\"absolute top-2 right-2 rounded-full p-1.5 bg-gray-950/80 text-white/60 hover:text-white transition\"\n            title={t(\"remove\")}\n          >\n            ✕\n          </button>\n        </div>\n      ) : (\n        <UploadDropzone\n          endpoint=\"itemImageUploader\"\n          onClientUploadComplete={(res) => {\n            const url = res?.[0]?.ufsUrl;\n            if (url) {\n              onChange(url);\n              setError(null);\n            }\n          }}\n          onUploadError={(err) => {\n            if (err.message.includes(\"File size\")) {\n              setError(t(\"tooLarge\"));\n            } else {\n              setError(t(\"error\"));\n            }\n          }}\n          appearance={{\n            container:\n              \"border border-white/20 rounded-xl bg-transparent hover:border-white/40 transition\",\n            label: \"text-white/80 text-sm\",\n            uploadIcon: \"text-white/60\",\n            button: \"bg-transparent text-white/80 text-sm font-medium\",\n          }}\n        />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAae,SAAS,YAAY,EAAE,KAAK,EAAE,QAAQ,EAAoB;;IACvE,MAAM,IAAI,IAAA,4MAAe,EAAC;IAC1B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAElD,qBACE,6LAAC;QAAI,WAAU;;YACZ,uBACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,4OAAa;wBAAC,WAAU;;;;;;kCACzB,6LAAC;kCAAM;;;;;;;;;;;;0BAIX,6LAAC;gBAAM,WAAU;0BACd,EAAE;;;;;;YAGJ,sBACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,2IAAK;wBACJ,KAAK;wBACL,KAAK,EAAE;wBACP,IAAI;wBACJ,WAAU;;;;;;kCAGZ,6LAAC;wBACC,MAAK;wBACL,SAAS;4BACP,SAAS;4BACT,SAAS;wBACX;wBACA,WAAU;wBACV,OAAO,EAAE;kCACV;;;;;;;;;;;qCAKH,6LAAC,uIAAc;gBACb,UAAS;gBACT,wBAAwB,CAAC;oBACvB,MAAM,MAAM,KAAK,CAAC,EAAE,EAAE;oBACtB,IAAI,KAAK;wBACP,SAAS;wBACT,SAAS;oBACX;gBACF;gBACA,eAAe,CAAC;oBACd,IAAI,IAAI,OAAO,CAAC,QAAQ,CAAC,cAAc;wBACrC,SAAS,EAAE;oBACb,OAAO;wBACL,SAAS,EAAE;oBACb;gBACF;gBACA,YAAY;oBACV,WACE;oBACF,OAAO;oBACP,YAAY;oBACZ,QAAQ;gBACV;;;;;;;;;;;;AAKV;GAlEwB;;QACZ,4MAAe;;;KADH"}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":["file:///Users/carlo/Documents/MenuQR/app/%5Blocale%5D/dashboard/menu/%5BmenuId%5D/add-item/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter, useParams } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { useTranslations } from \"next-intl\";\nimport ImageUpload from \"@/components/shared/ImageUpload\";\n\nexport default function AddItemPage() {\n  const t = useTranslations(\"addItem\");\n  const router = useRouter();\n  const params = useParams();\n\n  const locale = params.locale as string;\n  const menuId = params.menuId as string;\n\n  const [isUploadingImage] = useState(false);\n\n  const [name, setName] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [imageUrl, setImageUrl] = useState(\"\");\n  const [categoryId, setCategoryId] = useState(\"\");\n\n  const [categories, setCategories] = useState<\n    Array<{ id: string; name: string }>\n  >([]);\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    fetch(`/api/menus`)\n      .then((res) => res.json())\n      .then((menus) => {\n        const menu = menus.find((m: { id: string }) => m.id === menuId);\n        if (menu?.categories?.length) {\n          setCategories(menu.categories);\n          setCategoryId(menu.categories[0].id);\n        }\n      });\n  }, [menuId]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setLoading(true);\n\n    try {\n      const res = await fetch(\"/api/items\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          name,\n          price,\n          description,\n          imageUrl,\n          categoryId,\n        }),\n      });\n\n      if (res.ok) {\n        router.push(`/${locale}/dashboard/menu/${menuId}`);\n      } else {\n        setError(t(\"error\"));\n      }\n    } catch {\n      setError(t(\"error\"));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-3xl mx-auto px-6 py-12\">\n      <Link\n        href={`/${locale}/dashboard/menu/${menuId}`}\n        className=\"inline-flex items-center gap-2 mb-8 text-sm text-white/60 hover:text-white transition\"\n      >\n        ← {t(\"back\")}\n      </Link>\n\n      <h1 className=\"text-3xl font-semibold tracking-tight mb-12\">\n        {t(\"title\")}\n      </h1>\n\n      <form\n        onSubmit={handleSubmit}\n        className=\"rounded-3xl border border-white/10 bg-white/5 p-8 space-y-8 backdrop-blur\"\n      >\n        {error && (\n          <div className=\"rounded-xl border border-red-500/30 bg-red-500/10 text-red-400 px-4 py-3\">\n            {error}\n          </div>\n        )}\n\n        <div>\n          <label className=\"block text-sm text-white/70 mb-1\">\n            {t(\"category\")}\n          </label>\n          <select\n            required\n            value={categoryId}\n            onChange={(e) => setCategoryId(e.target.value)}\n            className=\"\n              w-full rounded-xl\n              bg-gray-950/60\n              border border-white/10\n              px-4 py-2\n              text-white\n              focus:border-white/40\n              focus:outline-none\n            \"\n          >\n            {categories.map((cat) => (\n              <option key={cat.id} value={cat.id} className=\"bg-gray-950\">\n                {cat.name}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div>\n          <label className=\"block text-sm text-white/70 mb-1\">\n            {t(\"name\")}\n          </label>\n          <input\n            required\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            placeholder={t(\"namePlaceholder\")}\n            className=\"\n              w-full rounded-xl\n              bg-gray-950/60\n              border border-white/10\n              px-4 py-2\n              text-white\n              focus:border-white/40\n              focus:outline-none\n            \"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm text-white/70 mb-1\">\n            {t(\"price\")}{\" \"}\n            <span className=\"text-white/40 text-xs\">\n              ({t(\"priceOptional\")})\n            </span>\n          </label>\n          <input\n            type=\"number\"\n            step=\"0.01\"\n            value={price}\n            onChange={(e) => setPrice(e.target.value)}\n            className=\"\n              w-full rounded-xl\n              bg-gray-950/60\n              border border-white/10\n              px-4 py-2\n              text-white\n              focus:border-white/40\n              focus:outline-none\n            \"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm text-white/70 mb-1\">\n            {t(\"description\")}\n          </label>\n          <textarea\n            rows={3}\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n            placeholder={t(\"descriptionPlaceholder\")}\n            className=\"\n              w-full rounded-xl\n              bg-gray-950/60\n              border border-white/10\n              px-4 py-2\n              text-white\n              focus:border-white/40\n              focus:outline-none\n              resize-none\n            \"\n          />\n        </div>\n\n        <ImageUpload value={imageUrl} onChange={setImageUrl} />\n\n        <div\n          className=\"\n            pt-2 gap-4\n            flex flex-col\n            sm:flex-row sm:items-center\n          \"\n        >\n          <button\n            type=\"submit\"\n            disabled={loading || isUploadingImage}\n            className=\"\n              w-full sm:w-auto\n              rounded-xl\n              bg-white\n              text-gray-950\n              text-sm font-medium\n              px-6 py-2.5\n              hover:opacity-90 transition\n              disabled:opacity-50\n            \"\n          >\n            {isUploadingImage\n              ? t(\"uploading\")\n              : loading\n              ? t(\"creating\")\n              : t(\"create\")}\n          </button>\n\n          <Link\n            href={`/${locale}/dashboard/menu/${menuId}`}\n            className=\"\n              w-full sm:w-auto\n              text-center\n              px-6 py-2.5 rounded-xl text-sm\n              border border-white/20\n              text-white/70\n              hover:border-white/50\n              hover:text-white\n              transition\n            \"\n          >\n            {t(\"cancel\")}\n          </Link>\n        </div>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQe,SAAS;;IACtB,MAAM,IAAI,IAAA,4MAAe,EAAC;IAC1B,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,SAAS,IAAA,kJAAS;IAExB,MAAM,SAAS,OAAO,MAAM;IAC5B,MAAM,SAAS,OAAO,MAAM;IAE5B,MAAM,CAAC,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IAEpC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAE7C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAE1C,EAAE;IAEJ,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IAEnC,IAAA,0KAAS;iCAAC;YACR,MAAM,CAAC,UAAU,CAAC,EACf,IAAI;yCAAC,CAAC,MAAQ,IAAI,IAAI;wCACtB,IAAI;yCAAC,CAAC;oBACL,MAAM,OAAO,MAAM,IAAI;sDAAC,CAAC,IAAsB,EAAE,EAAE,KAAK;;oBACxD,IAAI,MAAM,YAAY,QAAQ;wBAC5B,cAAc,KAAK,UAAU;wBAC7B,cAAc,KAAK,UAAU,CAAC,EAAE,CAAC,EAAE;oBACrC;gBACF;;QACJ;gCAAG;QAAC;KAAO;IAEX,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,cAAc;gBACpC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB;oBACA;oBACA;oBACA;oBACA;gBACF;YACF;YAEA,IAAI,IAAI,EAAE,EAAE;gBACV,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,gBAAgB,EAAE,QAAQ;YACnD,OAAO;gBACL,SAAS,EAAE;YACb;QACF,EAAE,OAAM;YACN,SAAS,EAAE;QACb,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,0KAAI;gBACH,MAAM,CAAC,CAAC,EAAE,OAAO,gBAAgB,EAAE,QAAQ;gBAC3C,WAAU;;oBACX;oBACI,EAAE;;;;;;;0BAGP,6LAAC;gBAAG,WAAU;0BACX,EAAE;;;;;;0BAGL,6LAAC;gBACC,UAAU;gBACV,WAAU;;oBAET,uBACC,6LAAC;wBAAI,WAAU;kCACZ;;;;;;kCAIL,6LAAC;;0CACC,6LAAC;gCAAM,WAAU;0CACd,EAAE;;;;;;0CAEL,6LAAC;gCACC,QAAQ;gCACR,OAAO;gCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;gCAC7C,WAAU;0CAUT,WAAW,GAAG,CAAC,CAAC,oBACf,6LAAC;wCAAoB,OAAO,IAAI,EAAE;wCAAE,WAAU;kDAC3C,IAAI,IAAI;uCADE,IAAI,EAAE;;;;;;;;;;;;;;;;kCAOzB,6LAAC;;0CACC,6LAAC;gCAAM,WAAU;0CACd,EAAE;;;;;;0CAEL,6LAAC;gCACC,QAAQ;gCACR,OAAO;gCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;gCACvC,aAAa,EAAE;gCACf,WAAU;;;;;;;;;;;;kCAYd,6LAAC;;0CACC,6LAAC;gCAAM,WAAU;;oCACd,EAAE;oCAAU;kDACb,6LAAC;wCAAK,WAAU;;4CAAwB;4CACpC,EAAE;4CAAiB;;;;;;;;;;;;;0CAGzB,6LAAC;gCACC,MAAK;gCACL,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gCACxC,WAAU;;;;;;;;;;;;kCAYd,6LAAC;;0CACC,6LAAC;gCAAM,WAAU;0CACd,EAAE;;;;;;0CAEL,6LAAC;gCACC,MAAM;gCACN,OAAO;gCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;gCAC9C,aAAa,EAAE;gCACf,WAAU;;;;;;;;;;;;kCAad,6LAAC,kJAAW;wBAAC,OAAO;wBAAU,UAAU;;;;;;kCAExC,6LAAC;wBACC,WAAU;;0CAMV,6LAAC;gCACC,MAAK;gCACL,UAAU,WAAW;gCACrB,WAAU;0CAWT,mBACG,EAAE,eACF,UACA,EAAE,cACF,EAAE;;;;;;0CAGR,6LAAC,0KAAI;gCACH,MAAM,CAAC,CAAC,EAAE,OAAO,gBAAgB,EAAE,QAAQ;gCAC3C,WAAU;0CAWT,EAAE;;;;;;;;;;;;;;;;;;;;;;;;AAMf;GAtOwB;;QACZ,4MAAe;QACV,kJAAS;QACT,kJAAS;;;KAHF"}}]
}